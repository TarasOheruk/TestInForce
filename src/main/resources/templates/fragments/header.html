<!DOCTYPE html>
<html   lang="en"
        xmlns:th="http://www.thymeleaf.org"
        xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">

<body>
<div th:fragment="header">

    <header class="d-flex flex-wrap justify-content-center py-2 px-5"
            style="background: #282727">
        <a href="/main" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
            <span class="fs-3 text-white">Реєстрація</span>
        </a>

        <ul class="nav nav-pills">

            <li class="nav-item" ><a href="/main" class="nav-link text-white fs-5" aria-current="page">Main</a></li>
            <li class="nav-item" sec:authorize="hasAuthority('Admin')" ><a th:href="@{/list_user}" class="nav-link text-white fs-5">Users</a></li>
            <li class="nav-item" sec:authorize="!isAuthenticated()"><a th:href="@{/login}" class="nav-link text-white fs-5">Log in</a></li>
            <li class="nav-item" sec:authorize="!isAuthenticated()"><a th:href="@{/register}" class="nav-link text-white fs-5 bg-primary">Register</a></li>
            <li class="nav-item" sec:authorize="isAuthenticated()">
                <input type="image" src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/1024px-Circle-icons-profile.svg.png" style="width: 30px;height: 30px"
                       class="mt-2"
                       id="navbarDropdownMenuLink"
                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"/>
                <ul class="dropdown-menu dropdown-menu-dark" style="min-width: 130px;" aria-labelledby="navbarDropdownMenuLink">
                    <li><a th:href="@{/logout}" class="nav-link link-warning fs-6">Out!</a></li>
                </ul>
            </li>
            <li class="nav-item dropdown" sec:authorize="isAuthenticated()">
                <a class="nav-link link-warning fs-5 ps-1" href="#">
                        [[${#request.userPrincipal.principal.getUsername}]]
                </a>
            </li>

        </ul>

    </header>
</div>
</body>
</html>